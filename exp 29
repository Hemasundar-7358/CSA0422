#include <stdio.h>
#include <stdlib.h>
#include <pthread.h>
#include <unistd.h> 

void* thread_function(void* arg) {
    printf("Thread ID: %lu\n", (unsigned long)pthread_self());
    printf("-> New thread created successfully and is now running.\n");
    // Simulate some work
    sleep(2);
    printf("-> New thread is finishing its execution.\n");
    return NULL;
}

int main() {
    pthread_t thread_id; 
    int result;

    printf("Main thread ID: %lu\n", (unsigned long)pthread_self());
    printf("Main: Attempting to create a new thread...\n");

  
    result = pthread_create(&thread_id, NULL, thread_function, NULL);

    if (result != 0) {
        perror("Error creating thread");
        return 1;
    }

    printf("Main: Thread created successfully. ID is %lu\n", (unsigned long)thread_id);

   
    sleep(3);

    printf("Main: Program finished.\n");
    return 0;
}
